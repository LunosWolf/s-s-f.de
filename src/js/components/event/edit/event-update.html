<event-update>
    <h1 class="heading heading--menu">Event bearbeiten</h1>
    <event-editor canpublish={opts.canpublish} ref="editor"></event-editor>
    <script>
        import './event-editor.html'
        import {getEventData} from '../../../api'

        this.on('mount', async ()=>{
            this.refs.editor.on('submit', (data)=>{
                this.updateEvent(data)
            })

            var x= await getEventData(this.opts.eventName)
            console.log(x);

        })

        this.updateEvent = async (data) => {
            var response = await fetch('/s-s-f.de/api/events/', {method: 'PUT', body: JSON.stringify(data)})
            var x = await response.text()
            console.log(x);
        }

    </script>
</event-update>
